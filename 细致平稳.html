<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCMC ç»†è‡´å¹³ç¨³æ¡ä»¶ - å¯è§†åŒ–æ¼”ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            overflow: hidden;
        }

        .presentation {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: all;
        }

        .slide.prev {
            transform: translateX(-100%);
        }

        h1 {
            font-size: 3.5rem;
            color: #fff;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 0 0 30px rgba(99, 102, 241, 0.5);
        }

        h2 {
            font-size: 2.5rem;
            color: #a5b4fc;
            margin-bottom: 40px;
            text-align: center;
        }

        .subtitle {
            font-size: 1.5rem;
            color: #94a3b8;
            text-align: center;
        }

        .content {
            max-width: 1200px;
            width: 100%;
        }

        /* å±±è„‰å¯è§†åŒ– */
        .mountain-container {
            width: 100%;
            height: 300px;
            position: relative;
            margin: 30px 0;
        }

        .mountain-svg {
            width: 100%;
            height: 100%;
        }

        .mountain-path {
            fill: none;
            stroke: url(#mountainGradient);
            stroke-width: 4;
        }

        .mountain-fill {
            fill: url(#mountainFillGradient);
            opacity: 0.3;
        }

        .walker {
            transition: all 0.8s ease-in-out;
        }

        /* æµé‡å¹³è¡¡åŠ¨ç”» */
        .balance-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 100px;
            margin: 40px 0;
        }

        .state-node {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
            position: relative;
            box-shadow: 0 0 40px rgba(0,0,0,0.3);
        }

        .state-a {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .state-b {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }

        .state-label {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .state-prob {
            font-size: 1rem;
            opacity: 0.9;
        }

        .flow-arrows {
            position: relative;
            width: 200px;
            height: 150px;
        }

        .flow-arrow {
            position: absolute;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .flow-arrow.top {
            top: 20px;
        }

        .flow-arrow.bottom {
            bottom: 20px;
        }

        .arrow-line {
            height: 8px;
            background: linear-gradient(90deg, #f59e0b, #eab308);
            border-radius: 4px;
            position: relative;
        }

        .arrow-line::after {
            content: '';
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            border: 10px solid transparent;
            border-left-color: #eab308;
        }

        .arrow-line.reverse {
            background: linear-gradient(270deg, #10b981, #059669);
        }

        .arrow-line.reverse::after {
            right: auto;
            left: -15px;
            border-left-color: transparent;
            border-right-color: #059669;
        }

        .flow-label {
            position: absolute;
            width: 100%;
            text-align: center;
            color: #fff;
            font-size: 0.9rem;
            padding: 5px;
            background: rgba(0,0,0,0.5);
            border-radius: 5px;
        }

        .flow-arrow.top .flow-label {
            top: -30px;
        }

        .flow-arrow.bottom .flow-label {
            bottom: -30px;
        }

        /* å…¬å¼æ ·å¼ */
        .formula-box {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(165, 180, 252, 0.3);
            border-radius: 15px;
            padding: 30px 50px;
            margin: 20px 0;
            text-align: center;
        }

        .formula {
            font-size: 1.8rem;
            color: #fff;
            font-family: 'Times New Roman', serif;
            font-style: italic;
        }

        .formula .highlight {
            color: #fbbf24;
            font-weight: bold;
        }

        .formula .highlight-green {
            color: #34d399;
        }

        .formula .highlight-red {
            color: #f87171;
        }

        /* è§„åˆ™å¡ç‰‡ */
        .rules-container {
            display: flex;
            gap: 30px;
            margin: 30px 0;
        }

        .rule-card {
            flex: 1;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .rule-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .rule-card.accept {
            border-color: rgba(52, 211, 153, 0.5);
        }

        .rule-card.maybe {
            border-color: rgba(251, 191, 36, 0.5);
        }

        .rule-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .rule-title {
            font-size: 1.3rem;
            color: #fff;
            margin-bottom: 15px;
        }

        .rule-desc {
            color: #94a3b8;
            line-height: 1.6;
        }

        /* åŠ¨ç”»ç²’å­ */
        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #fbbf24;
            border-radius: 50%;
            opacity: 0;
        }

        @keyframes flowParticle {
            0% {
                opacity: 1;
                transform: translateX(0);
            }
            100% {
                opacity: 0;
                transform: translateX(180px);
            }
        }

        @keyframes flowParticleReverse {
            0% {
                opacity: 1;
                transform: translateX(0);
            }
            100% {
                opacity: 0;
                transform: translateX(-180px);
            }
        }

        /* å¯¼èˆªæ§åˆ¶ */
        .nav-controls {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 100;
        }

        .nav-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn.prev {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }

        .nav-btn.next {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: #fff;
        }

        .nav-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            transform: none;
        }

        /* è¿›åº¦æŒ‡ç¤ºå™¨ */
        .progress {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: all 0.3s;
            cursor: pointer;
        }

        .progress-dot.active {
            background: #6366f1;
            transform: scale(1.3);
        }

        /* äº¤äº’å¼æ¼”ç¤º */
        .interactive-demo {
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
        }

        .demo-controls {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .demo-slider {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #fff;
        }

        .demo-slider input[type="range"] {
            width: 150px;
            accent-color: #6366f1;
        }

        .demo-value {
            min-width: 50px;
            color: #fbbf24;
            font-weight: bold;
        }

        .flow-visualization {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 50px;
            padding: 30px;
        }

        .flow-bar {
            height: 20px;
            border-radius: 10px;
            transition: width 0.5s;
            min-width: 10px;
        }

        .flow-bar.to-b {
            background: linear-gradient(90deg, #ef4444, #f97316);
        }

        .flow-bar.to-a {
            background: linear-gradient(90deg, #3b82f6, #06b6d4);
        }

        .balance-indicator {
            font-size: 1.5rem;
            padding: 15px 30px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }

        .balance-indicator.balanced {
            background: rgba(52, 211, 153, 0.2);
            color: #34d399;
            border: 2px solid #34d399;
        }

        .balance-indicator.unbalanced {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
            border: 2px solid #f87171;
        }

        /* æ­¥éª¤åˆ—è¡¨ */
        .steps-list {
            text-align: left;
            color: #fff;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin: 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            transition: all 0.3s;
        }

        .step-item:hover {
            background: rgba(255,255,255,0.1);
            transform: translateX(10px);
        }

        .step-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        .step-content h3 {
            color: #a5b4fc;
            margin-bottom: 10px;
        }

        .step-content p {
            color: #94a3b8;
            line-height: 1.6;
        }

        /* å…³é”®ç‚¹é«˜äº® */
        .key-insight {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.1));
            border-left: 4px solid #fbbf24;
            padding: 20px 30px;
            border-radius: 0 15px 15px 0;
            margin: 30px 0;
        }

        .key-insight p {
            color: #fef3c7;
            font-size: 1.2rem;
            line-height: 1.6;
        }

        /* åŠ¨ç”»ç±» */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        .animate-float {
            animation: float 3s infinite;
        }

        /* æ°´æµåŠ¨ç”» */
        .water-flow {
            position: relative;
            height: 60px;
            margin: 10px 0;
        }

        .water-particle {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
        }

        @keyframes flowRight {
            0% { left: 0; opacity: 1; }
            100% { left: calc(100% - 12px); opacity: 0.3; }
        }

        @keyframes flowLeft {
            0% { right: 0; opacity: 1; }
            100% { right: calc(100% - 12px); opacity: 0.3; }
        }
    </style>
</head>
<body>
    <div class="presentation">
        <!-- å¹»ç¯ç‰‡ 1: æ ‡é¢˜ -->
        <div class="slide active" data-slide="0">
            <h1>ğŸ¯ MCMC é‡‡æ ·çš„çµé­‚</h1>
            <h2>ç»†è‡´å¹³ç¨³æ¡ä»¶ (Detailed Balance)</h2>
            <p class="subtitle">ç†è§£æ¥å—æ¦‚ç‡ä¸ºä½•å¦‚æ­¤è®¾è®¡</p>
            <div style="margin-top: 50px; color: #64748b;">
                <p>ä½¿ç”¨ â† â†’ é”®æˆ–ç‚¹å‡»æŒ‰é’®ç¿»é¡µ</p>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 2: é—®é¢˜å¼•å…¥ -->
        <div class="slide" data-slide="1">
            <h2>ğŸ”ï¸ é—®é¢˜ï¼šå¦‚ä½•é‡‡æ ·å¤æ‚åˆ†å¸ƒï¼Ÿ</h2>
            <div class="content">
                <div class="mountain-container">
                    <svg class="mountain-svg" viewBox="0 0 800 250">
                        <defs>
                            <linearGradient id="mountainGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#6366f1"/>
                                <stop offset="50%" style="stop-color:#8b5cf6"/>
                                <stop offset="100%" style="stop-color:#6366f1"/>
                            </linearGradient>
                            <linearGradient id="mountainFillGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#8b5cf6"/>
                                <stop offset="100%" style="stop-color:#1a1a2e"/>
                            </linearGradient>
                        </defs>
                        <path class="mountain-fill" d="M0,200 Q100,180 150,120 T250,80 T350,150 T450,60 T550,100 T650,140 T750,90 L800,200 Z"/>
                        <path class="mountain-path" d="M0,200 Q100,180 150,120 T250,80 T350,150 T450,60 T550,100 T650,140 T750,90"/>
                        <circle class="walker animate-float" cx="450" cy="55" r="12" fill="#fbbf24"/>
                        <text x="450" y="35" fill="#fbbf24" text-anchor="middle" font-size="14">é‡‡æ ·ç‚¹</text>
                    </svg>
                </div>
                <div class="key-insight">
                    <p>ğŸ’¡ <strong>ç›®æ ‡ï¼š</strong>è®©é‡‡æ ·ç‚¹åœ¨"å±±ä¸Š"è¡Œèµ°ï¼Œä½¿å…¶è¶³è¿¹åˆ†å¸ƒä¸å±±çš„é«˜åº¦ï¼ˆæ¦‚ç‡ï¼‰æˆæ­£æ¯”ã€‚<br>
                    <strong>é«˜çš„åœ°æ–¹å¤šåœç•™ï¼Œä½çš„åœ°æ–¹å°‘åœç•™ï¼</strong></p>
                </div>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 3: æ¥å—è§„åˆ™ -->
        <div class="slide" data-slide="2">
            <h2>ğŸ“‹ è¡Œèµ°è§„åˆ™ï¼šæ¥å— or æ‹’ç»ï¼Ÿ</h2>
            <div class="content">
                <div class="rules-container">
                    <div class="rule-card accept">
                        <div class="rule-icon">âœ…</div>
                        <div class="rule-title">å¾€é«˜å¤„èµ°</div>
                        <div class="rule-desc">
                            <strong>p(x') > p(x)</strong><br><br>
                            æ–°ä½ç½®æ›´é«˜ï¼Ÿ<br>
                            <span style="color: #34d399; font-size: 1.2rem;">100% æ¥å—ï¼</span>
                        </div>
                    </div>
                    <div class="rule-card maybe">
                        <div class="rule-icon">ğŸ²</div>
                        <div class="rule-title">å¾€ä½å¤„èµ°</div>
                        <div class="rule-desc">
                            <strong>p(x') < p(x)</strong><br><br>
                            æ–°ä½ç½®æ›´ä½ï¼Ÿ<br>
                            <span style="color: #fbbf24; font-size: 1.2rem;">ä»¥ p(x')/p(x) æ¦‚ç‡æ¥å—</span>
                        </div>
                    </div>
                </div>
                <div class="formula-box">
                    <div class="formula">
                        Î±(x â†’ x') = min(1, <span class="highlight">p(x') / p(x)</span>)
                    </div>
                </div>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 4: æ ¸å¿ƒé—®é¢˜ -->
        <div class="slide" data-slide="3">
            <h2>ğŸ¤” ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡å°±èƒ½workï¼Ÿ</h2>
            <div class="content">
                <div class="steps-list">
                    <div class="step-item">
                        <div class="step-number">?</div>
                        <div class="step-content">
                            <h3>ä¸ºä»€ä¹ˆè¦å…è®¸å¾€ä½å¤„èµ°ï¼Ÿ</h3>
                            <p>å¦‚æœåªå¾€é«˜èµ°ï¼Œä¼šå¡åœ¨å±€éƒ¨æœ€ä¼˜ï¼Œæ— æ³•æ¢ç´¢å…¨å±€</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">?</div>
                        <div class="step-content">
                            <h3>ä¸ºä»€ä¹ˆæ¦‚ç‡æ°å¥½æ˜¯ p(x')/p(x)ï¼Ÿ</h3>
                            <p>ä¸æ˜¯ 0.5ï¼Ÿä¸æ˜¯å…¶ä»–å€¼ï¼Ÿè¿™ä¸ªæ¯”å€¼æœ‰ä»€ä¹ˆç‰¹æ®Šçš„ï¼Ÿ</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">?</div>
                        <div class="step-content">
                            <h3>å‡­ä»€ä¹ˆæœ€ç»ˆåˆ†å¸ƒå°±æ˜¯ p(x)ï¼Ÿ</h3>
                            <p>éšæœºæ¸¸èµ°æ€ä¹ˆå°±èƒ½æ”¶æ•›åˆ°ç›®æ ‡åˆ†å¸ƒï¼Ÿ</p>
                        </div>
                    </div>
                </div>
                <div class="key-insight">
                    <p>ğŸ”‘ ç­”æ¡ˆå°±åœ¨äºï¼š<strong>ç»†è‡´å¹³ç¨³æ¡ä»¶ (Detailed Balance)</strong></p>
                </div>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 5: ç»†è‡´å¹³ç¨³æ¡ä»¶è§£é‡Š -->
        <div class="slide" data-slide="4">
            <h2>âš–ï¸ ç»†è‡´å¹³ç¨³æ¡ä»¶ï¼šæµé‡å®ˆæ’</h2>
            <div class="content">
                <p style="color: #94a3b8; text-align: center; margin-bottom: 30px; font-size: 1.2rem;">
                    æƒ³è±¡ä¸¤ä¸ªåŸå¸‚ä¹‹é—´çš„äººå£æµåŠ¨ï¼Œå¹³è¡¡æ—¶ï¼š<strong>Aâ†’B çš„æµé‡ = Bâ†’A çš„æµé‡</strong>
                </p>
                <div class="balance-container">
                    <div class="state-node state-a animate-pulse">
                        <div class="state-label">A</div>
                        <div class="state-prob">p(A) = 0.8</div>
                        <div style="font-size: 0.8rem; margin-top: 5px;">é«˜æ¦‚ç‡åŒº</div>
                    </div>
                    <div class="flow-arrows">
                        <div class="flow-arrow top">
                            <div class="arrow-line" style="width: 150px;"></div>
                            <div class="flow-label">Aâ†’B æµé‡</div>
                        </div>
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; font-size: 2rem;">
                            âš–ï¸
                        </div>
                        <div class="flow-arrow bottom">
                            <div class="arrow-line reverse" style="width: 150px;"></div>
                            <div class="flow-label">Bâ†’A æµé‡</div>
                        </div>
                    </div>
                    <div class="state-node state-b animate-pulse">
                        <div class="state-label">B</div>
                        <div class="state-prob">p(B) = 0.2</div>
                        <div style="font-size: 0.8rem; margin-top: 5px;">ä½æ¦‚ç‡åŒº</div>
                    </div>
                </div>
                <div class="formula-box">
                    <div class="formula">
                        <span class="highlight-red">p(A)</span> Ã— P(Aâ†’B) = <span class="highlight-green">p(B)</span> Ã— P(Bâ†’A)
                    </div>
                    <p style="color: #94a3b8; margin-top: 15px;">äººå£ Ã— è½¬ç§»æ¦‚ç‡ = æµé‡</p>
                </div>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 6: äº¤äº’å¼æ¼”ç¤º -->
        <div class="slide" data-slide="5">
            <h2>ğŸ® äº¤äº’æ¼”ç¤ºï¼šæ¥å—æ¦‚ç‡å¦‚ä½•å¹³è¡¡æµé‡</h2>
            <div class="content">
                <div class="interactive-demo">
                    <div class="demo-controls">
                        <div class="demo-slider">
                            <label>p(A) é«˜åº¦ï¼š</label>
                            <input type="range" id="probA" min="10" max="100" value="80">
                            <span class="demo-value" id="probAValue">0.80</span>
                        </div>
                        <div class="demo-slider">
                            <label>p(B) é«˜åº¦ï¼š</label>
                            <input type="range" id="probB" min="10" max="100" value="20">
                            <span class="demo-value" id="probBValue">0.20</span>
                        </div>
                    </div>
                    
                    <div class="flow-visualization">
                        <div style="text-align: center;">
                            <div class="state-node state-a" style="width: 100px; height: 100px; margin: 0 auto;">
                                <div class="state-label">A</div>
                            </div>
                            <p style="color: #f87171; margin-top: 10px;" id="displayA">p(A)=0.80</p>
                        </div>
                        
                        <div style="flex: 1; max-width: 400px;">
                            <div style="margin-bottom: 20px;">
                                <p style="color: #f97316; text-align: center; margin-bottom: 5px;">
                                    Aâ†’B: <span id="flowAB">p(A)Ã—Î±(Aâ†’B) = 0.80Ã—0.25 = 0.20</span>
                                </p>
                                <div style="background: rgba(255,255,255,0.1); height: 20px; border-radius: 10px; overflow: hidden;">
                                    <div class="flow-bar to-b" id="flowBarAB" style="width: 50%;"></div>
                                </div>
                            </div>
                            <div>
                                <p style="color: #06b6d4; text-align: center; margin-bottom: 5px;">
                                    Bâ†’A: <span id="flowBA">p(B)Ã—Î±(Bâ†’A) = 0.20Ã—1.00 = 0.20</span>
                                </p>
                                <div style="background: rgba(255,255,255,0.1); height: 20px; border-radius: 10px; overflow: hidden;">
                                    <div class="flow-bar to-a" id="flowBarBA" style="width: 50%;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="text-align: center;">
                            <div class="state-node state-b" style="width: 100px; height: 100px; margin: 0 auto;">
                                <div class="state-label">B</div>
                            </div>
                            <p style="color: #60a5fa; margin-top: 10px;" id="displayB">p(B)=0.20</p>
                        </div>
                    </div>
                    
                    <div class="balance-indicator balanced" id="balanceIndicator">
                        âœ… æµé‡å¹³è¡¡ï¼ä¸¤è¾¹æµé‡éƒ½ = 0.20
                    </div>
                </div>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 7: æ•°å­¦éªŒè¯ -->
        <div class="slide" data-slide="6">
            <h2>ğŸ“ æ•°å­¦éªŒè¯ï¼šä¸ºä»€ä¹ˆæ€»æ˜¯å¹³è¡¡ï¼Ÿ</h2>
            <div class="content">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div class="formula-box">
                        <h3 style="color: #a5b4fc; margin-bottom: 20px;">å‡è®¾ p(A) > p(B)</h3>
                        <div style="text-align: left; color: #fff; line-height: 2;">
                            <p>Î±(Aâ†’B) = min(1, p(B)/p(A)) = <span class="highlight">p(B)/p(A)</span></p>
                            <p>Î±(Bâ†’A) = min(1, p(A)/p(B)) = <span class="highlight-green">1</span></p>
                        </div>
                    </div>
                    <div class="formula-box">
                        <h3 style="color: #a5b4fc; margin-bottom: 20px;">éªŒè¯æµé‡ç›¸ç­‰</h3>
                        <div style="text-align: left; color: #fff; line-height: 2;">
                            <p>Aâ†’B: p(A) Ã— <span class="highlight">p(B)/p(A)</span> = <span class="highlight-green">p(B)</span></p>
                            <p>Bâ†’A: p(B) Ã— <span class="highlight-green">1</span> = <span class="highlight-green">p(B)</span></p>
                        </div>
                    </div>
                </div>
                <div class="key-insight" style="margin-top: 30px;">
                    <p>ğŸ¯ <strong>ç²¾å¦™ä¹‹å¤„ï¼š</strong><br>
                    æ¥å—æ¦‚ç‡ p(x')/p(x) æ°å¥½èƒ½æŠµæ¶ˆèµ·ç‚¹çš„äººå£å·®å¼‚ï¼<br>
                    é«˜äººå£åŒº Ã— ä½æ¥å—ç‡ = ä½äººå£åŒº Ã— é«˜æ¥å—ç‡</p>
                </div>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 8: ç›´è§‚ç†è§£ -->
        <div class="slide" data-slide="7">
            <h2>ğŸ’¡ ç›´è§‚ç†è§£ï¼šä¸ºä»€ä¹ˆèƒ½æ”¶æ•›ï¼Ÿ</h2>
            <div class="content">
                <div style="display: flex; gap: 40px; align-items: center;">
                    <div style="flex: 1;">
                        <svg viewBox="0 0 400 300" style="width: 100%;">
                            <!-- æ°´æ±  A -->
                            <rect x="20" y="50" width="150" height="200" rx="10" fill="rgba(239, 68, 68, 0.3)" stroke="#ef4444" stroke-width="2"/>
                            <rect x="20" y="100" width="150" height="150" fill="rgba(239, 68, 68, 0.5)"/>
                            <text x="95" y="180" fill="#fff" text-anchor="middle" font-size="20">A (é«˜)</text>
                            
                            <!-- æ°´æ±  B -->
                            <rect x="230" y="50" width="150" height="200" rx="10" fill="rgba(59, 130, 246, 0.3)" stroke="#3b82f6" stroke-width="2"/>
                            <rect x="230" y="200" width="150" height="50" fill="rgba(59, 130, 246, 0.5)"/>
                            <text x="305" y="180" fill="#fff" text-anchor="middle" font-size="20">B (ä½)</text>
                            
                            <!-- ç®¡é“ -->
                            <path d="M170,150 L230,150" stroke="#fbbf24" stroke-width="8" stroke-linecap="round"/>
                            <path d="M170,200 L230,200" stroke="#34d399" stroke-width="8" stroke-linecap="round"/>
                            
                            <!-- æ ‡ç­¾ -->
                            <text x="200" y="140" fill="#fbbf24" text-anchor="middle" font-size="12">ç»†æµ</text>
                            <text x="200" y="220" fill="#34d399" text-anchor="middle" font-size="12">ç»†æµ</text>
                        </svg>
                    </div>
                    <div style="flex: 1;">
                        <div class="steps-list">
                            <div class="step-item">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h3>ä¸¤ä¸ªæ°´æ± è¿é€š</h3>
                                    <p>Aæ°´å¤šï¼ŒBæ°´å°‘ï¼Œé€šè¿‡ç®¡é“è¿æ¥</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h3>ç®¡é“è®¾è®¡ç²¾å·§</h3>
                                    <p>æ¥å—æ¦‚ç‡ç¡®ä¿ï¼šå‡ºæ°´é‡ = è¿›æ°´é‡</p>
                                </div>
                            </div>
                            <div class="step-item">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h3>æ°´ä½æ°¸è¿œä¿æŒ</h3>
                                    <p>Aä¸€ç›´å¤šï¼ŒBä¸€ç›´å°‘ï¼Œæ¯”ä¾‹æ’å®š</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å¹»ç¯ç‰‡ 9: æ€»ç»“ -->
        <div class="slide" data-slide="8">
            <h2>ğŸ¯ æ€»ç»“ï¼šMCMCæ¥å—æ¦‚ç‡çš„å¥¥ç§˜</h2>
            <div class="content">
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
                    <div class="formula-box" style="text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ²</div>
                        <h3 style="color: #a5b4fc;">æ¥å—æ¦‚ç‡</h3>
                        <p style="color: #fff; margin-top: 10px;">Î± = min(1, p(x')/p(x))</p>
                    </div>
                    <div class="formula-box" style="text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">âš–ï¸</div>
                        <h3 style="color: #a5b4fc;">ç»†è‡´å¹³ç¨³</h3>
                        <p style="color: #fff; margin-top: 10px;">æµå…¥ = æµå‡º</p>
                    </div>
                    <div class="formula-box" style="text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ¯</div>
                        <h3 style="color: #a5b4fc;">æ”¶æ•›ä¿è¯</h3>
                        <p style="color: #fff; margin-top: 10px;">åˆ†å¸ƒ â†’ p(x)</p>
                    </div>
                </div>
                <div class="key-insight">
                    <p style="font-size: 1.3rem; text-align: center;">
                        <strong>æ ¸å¿ƒæ´å¯Ÿï¼š</strong><br><br>
                        æ¥å—æ¦‚ç‡ä¸æ˜¯éšä¾¿è®¾è®¡çš„ï¼Œå®ƒç²¾ç¡®åœ°è®©<br>
                        <span style="color: #f87171;">ã€Œé«˜æ¦‚ç‡åŒºçš„ä½æ¥å—ç‡ã€</span> ä¸ 
                        <span style="color: #34d399;">ã€Œä½æ¦‚ç‡åŒºçš„é«˜æ¥å—ç‡ã€</span><br>
                        å®Œç¾æŠµæ¶ˆï¼Œå®ç°æ¯å¯¹çŠ¶æ€é—´çš„æµé‡å¹³è¡¡ï¼
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- å¯¼èˆª -->
    <div class="progress" id="progress"></div>
    <div class="nav-controls">
        <button class="nav-btn prev" id="prevBtn" onclick="changeSlide(-1)">â† ä¸Šä¸€é¡µ</button>
        <button class="nav-btn next" id="nextBtn" onclick="changeSlide(1)">ä¸‹ä¸€é¡µ â†’</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;

        // åˆå§‹åŒ–è¿›åº¦ç‚¹
        function initProgress() {
            const progress = document.getElementById('progress');
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => goToSlide(i);
                progress.appendChild(dot);
            }
        }

        function updateSlides() {
            slides.forEach((slide, index) => {
                slide.classList.remove('active', 'prev');
                if (index === currentSlide) {
                    slide.classList.add('active');
                } else if (index < currentSlide) {
                    slide.classList.add('prev');
                }
            });

            // æ›´æ–°è¿›åº¦ç‚¹
            document.querySelectorAll('.progress-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
        }

        function changeSlide(direction) {
            const newSlide = currentSlide + direction;
            if (newSlide >= 0 && newSlide < totalSlides) {
                currentSlide = newSlide;
                updateSlides();
            }
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlides();
        }

        // é”®ç›˜æ§åˆ¶
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                changeSlide(1);
            } else if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            }
        });

        // äº¤äº’å¼æ¼”ç¤ºé€»è¾‘
        const probASlider = document.getElementById('probA');
        const probBSlider = document.getElementById('probB');

        function updateDemo() {
            const pA = probASlider.value / 100;
            const pB = probBSlider.value / 100;

            document.getElementById('probAValue').textContent = pA.toFixed(2);
            document.getElementById('probBValue').textContent = pB.toFixed(2);
            document.getElementById('displayA').textContent = `p(A)=${pA.toFixed(2)}`;
            document.getElementById('displayB').textContent = `p(B)=${pB.toFixed(2)}`;

            // è®¡ç®—æ¥å—æ¦‚ç‡
            const alphaAB = Math.min(1, pB / pA);
            const alphaBA = Math.min(1, pA / pB);

            // è®¡ç®—æµé‡
            const flowAB = pA * alphaAB;
            const flowBA = pB * alphaBA;

            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('flowAB').textContent = 
                `p(A)Ã—Î±(Aâ†’B) = ${pA.toFixed(2)}Ã—${alphaAB.toFixed(2)} = ${flowAB.toFixed(3)}`;
            document.getElementById('flowBA').textContent = 
                `p(B)Ã—Î±(Bâ†’A) = ${pB.toFixed(2)}Ã—${alphaBA.toFixed(2)} = ${flowBA.toFixed(3)}`;

            // æ›´æ–°æµé‡æ¡
            const maxFlow = Math.max(flowAB, flowBA, 0.01);
            document.getElementById('flowBarAB').style.width = (flowAB / maxFlow * 100) + '%';
            document.getElementById('flowBarBA').style.width = (flowBA / maxFlow * 100) + '%';

            // æ›´æ–°å¹³è¡¡æŒ‡ç¤ºå™¨
            const indicator = document.getElementById('balanceIndicator');
            const diff = Math.abs(flowAB - flowBA);
            if (diff < 0.001) {
                indicator.className = 'balance-indicator balanced';
                indicator.innerHTML = `âœ… æµé‡å¹³è¡¡ï¼ä¸¤è¾¹æµé‡éƒ½ â‰ˆ ${flowAB.toFixed(3)}`;
            } else {
                indicator.className = 'balance-indicator balanced';
                indicator.innerHTML = `âœ… æµé‡å¹³è¡¡ï¼Aâ†’B = ${flowAB.toFixed(3)}, Bâ†’A = ${flowBA.toFixed(3)}`;
            }
        }

        probASlider.addEventListener('input', updateDemo);
        probBSlider.addEventListener('input', updateDemo);

        // åˆå§‹åŒ–
        initProgress();
        updateDemo();
    </script>
</body>
</html>